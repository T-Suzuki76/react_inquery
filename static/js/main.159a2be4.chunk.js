(this["webpackJsonprapid-responder"]=this["webpackJsonprapid-responder"]||[]).push([[0],{165:function(e,t,n){},174:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(68),i=n.n(r),s=(n(165),n(1)),j=n.n(s),o=n(5),l=n(11),d=n(16),u=n(131),b=n(29),x=n(132),O=Object(u.a)({apiKey:"AIzaSyBiiwMepvXA77ZeDjOdjr7ivmIR74dACKU",authDomain:"rapid-responder-9a51b.firebaseapp.com",projectId:"rapid-responder-9a51b",storageBucket:"rapid-responder-9a51b.appspot.com",messagingSenderId:"351229932399",appId:"1:351229932399:web:1794308fb206b74795ee9a"}),m=Object(b.d)(O),h=Object(x.a)(O),f=n(0),p=Object(a.createContext)({currentUser:null}),v=function(e){var t=e.children,n=Object(a.useState)(void 0),c=Object(l.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){return h.onAuthStateChanged((function(e){i(e)})),function(){!1}}),[]),Object(f.jsx)(p.Provider,{value:{currentUser:r},children:t})},y=Object(a.createContext)({isAdmin:void 0}),g=function(e){var t=e.children,n=Object(a.useState)(void 0),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(a.useContext)(p).currentUser;return null!==s&&void 0!==s&&function(){var e=Object(o.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.d)(m,"users","".concat(null===s||void 0===s?void 0:s.uid)),e.next=3,Object(d.e)(t);case 3:(n=e.sent).exists()?i(n.data().admin):console.log("No such document!");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),Object(f.jsx)(y.Provider,{value:{isAdmin:r},children:t})},S=n(65),w=n(24),C=n(240),k=n(248),q=n(221),T=n(231),z=n(249),I=n(222),G=n(99),E=n.n(G),W=n(247),F=n(246),N=n(126),U=n(242),A=n(60),D=Object(N.a)(),L=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),s=i[0],u=i[1],b=Object(w.f)(),x=function(){var e=Object(o.a)(j.a.mark((function e(){var t,n,a,c,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.k)(Object(d.b)(m,"users"),Object(d.o)("admin","==",!0)),e.next=3,Object(d.f)(t);case 3:n=e.sent,a=[],n.forEach((function(e){a.push(e.id)})),c=Array.from(a),c.some((function(e){var t;return(null===(t=h.currentUser)||void 0===t?void 0:t.uid)===e}))?b.push("/admin/".concat(null===(r=h.currentUser)||void 0===r?void 0:r.uid)):b.push("/home/".concat(null===(i=h.currentUser)||void 0===i?void 0:i.uid));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(U.a,{theme:D,children:Object(f.jsxs)(F.a,{component:"main",maxWidth:"xs",children:[Object(f.jsx)(q.a,{}),Object(f.jsxs)(I.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(f.jsx)(C.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(f.jsx)(E.a,{})}),Object(f.jsx)(W.a,{component:"h1",variant:"h5",children:"\u30b5\u30a4\u30f3\u30a4\u30f3"}),Object(f.jsxs)(I.a,{component:"form",noValidate:!0,sx:{mt:1},onSubmit:function(e){e.preventDefault(),Object(A.c)(h,n,s).then((function(){x()})).catch((function(e){var t=e.code,n=e.message;alert("".concat(t,":").concat(n))}))},children:[Object(f.jsx)(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",name:"email",value:n,onChange:function(e){return c(e.target.value)},autoComplete:"email",autoFocus:!0}),Object(f.jsx)(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u30d1\u30b9\u30ef\u30fc\u30c9",type:"password",value:s,onChange:function(e){return u(e.target.value)},id:"password",autoComplete:"current-password"}),Object(f.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"\u30b5\u30a4\u30f3\u30a4\u30f3"}),Object(f.jsx)(I.a,{display:"flex",justifyContent:"space-between",children:Object(f.jsx)(z.a,{component:S.b,to:"/signup",variant:"body2",children:"\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3059\u308b"})})]})]})]})})},R=n(241),P=Object(N.a)(),X=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),s=i[0],u=i[1],b=Object(a.useState)(""),x=Object(l.a)(b,2),O=x[0],p=x[1],v=Object(w.f)();return Object(f.jsx)(U.a,{theme:P,children:Object(f.jsxs)(F.a,{component:"main",maxWidth:"xs",children:[Object(f.jsx)(q.a,{}),Object(f.jsxs)(I.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(f.jsx)(C.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(f.jsx)(E.a,{})}),Object(f.jsx)(W.a,{component:"h1",variant:"h5",children:"\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7"}),Object(f.jsxs)(I.a,{component:"form",noValidate:!0,sx:{mt:3},onSubmit:function(e){e.preventDefault(),Object(A.a)(h,s,O).then(function(){var e=Object(o.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,e.next=3,Object(d.m)(Object(d.d)(m,"users",a.uid),{uid:a.uid,name:n,email:s,admin:false});case 3:Object(A.e)(a,{displayName:n}),v.push("/home/".concat(t.user.uid));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t=e.code,n=e.message;alert("".concat(t,":").concat(n))}))},children:[Object(f.jsxs)(R.a,{container:!0,spacing:2,children:[Object(f.jsx)(R.a,{item:!0,xs:12,children:Object(f.jsx)(T.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"\u30e6\u30fc\u30b6\u30fc\u540d",autoFocus:!0,value:n,onChange:function(e){return c(e.target.value)}})}),Object(f.jsx)(R.a,{item:!0,xs:12,children:Object(f.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",name:"email",autoComplete:"email",value:s,onChange:function(e){return u(e.target.value)}})}),Object(f.jsx)(R.a,{item:!0,xs:12,children:Object(f.jsx)(T.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"\u30d1\u30b9\u30ef\u30fc\u30c9",type:"password",id:"password",autoComplete:"current-password",value:O,onChange:function(e){return p(e.target.value)}})})]}),Object(f.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7"}),Object(f.jsx)(R.a,{container:!0,justifyContent:"flex-end",children:Object(f.jsx)(R.a,{item:!0,children:Object(f.jsx)(z.a,{component:S.b,to:"/",variant:"body2",children:"\u3059\u3067\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u308b"})})})]})]})]})})},B=n(227),M=n(27),V=n(255),H=n(252),K=n(256),J=n(257),Z=n(258),Q=n(259),Y=n(260),$=n(245),_=n(261),ee=n(140),te=n(234),ne=n(254),ae=n(134),ce=n.n(ae),re=Object(a.memo)((function(e){var t=e.setInqueries,n=e.response,c=e.staff,r=Object(a.useState)(null),i=Object(l.a)(r,2),s=i[0],u=i[1],b=Boolean(s),x=function(e){""!==e.currentTarget.innerText&&(0===n.length?O("staff",e.currentTarget.innerText):0===c.length&&O("response",e.currentTarget.innerText)),u(null)},O=function(){var e=Object(o.a)(j.a.mark((function e(n,a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],r=Object(d.k)(Object(d.b)(m,"inquery"),Object(d.o)(n,"==",a),Object(d.h)(20)),e.next=4,Object(d.f)(r);case 4:e.sent.forEach((function(e){c.push({name:e.data().name,email:e.data().email,tel:e.data().tel,products:e.data().products,title:e.data().title,inquery:e.data().inquery,uid:e.data().uid,timestamp:e.data().timestamp,month:e.data().month,response:e.data().response,inqueryId:e.id,staff:e.data().staff})})),t(c);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(f.jsxs)(B.a,{component:"span",ml:1,children:[Object(f.jsx)(ne.a,{"aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":b?"true":void 0,onClick:function(e){u(e.currentTarget)},children:Object(f.jsx)(ce.a,{})}),Object(f.jsxs)(ee.a,{id:"basic-menu",anchorEl:s,open:b,onClose:x,MenuListProps:{"aria-labelledby":"basic-button"},children:[n.map((function(e,t){return Object(f.jsx)(te.a,{onClick:x,children:e},t)})),c.map((function(e,t){return Object(f.jsx)(te.a,{onClick:x,children:e},t)}))]})]})})),ie=n(9),se=n(244),je=n(79),oe=n.n(je),le=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(w.f)(),s=e.name,j=e.email,o=e.tel,d=e.products,u=e.title,b=e.inquery,x=e.uid,O=e.timestamp,m=e.response,h=e.inqueryId,p=e.staff,v=Object(ie.a)(oe.a)({display:"block",marginRight:0,marginLeft:"auto"});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(k.a,{variant:"outlined",size:"medium",sx:{margin:3},onClick:function(){r(!c)},children:"\u8a73\u7d30"}),Object(f.jsx)(se.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:c,children:Object(f.jsx)(F.a,{maxWidth:"md",children:Object(f.jsxs)(I.a,{sx:{bgcolor:"white",zIndex:100,padding:2},children:[Object(f.jsxs)(R.a,{container:!0,justifyContent:"end",children:[Object(f.jsx)(R.a,{item:!0,xs:9,children:Object(f.jsx)(W.a,{fontSize:25,color:"gray",children:"\u304a\u554f\u3044\u5408\u308f\u305b\u8a73\u7d30"})}),Object(f.jsx)(R.a,{item:!0,xs:3,children:Object(f.jsx)(v,{color:"action",onClick:function(){r(!1)}})})]}),Object(f.jsxs)(F.a,{children:[Object(f.jsxs)(I.a,{m:2,children:[Object(f.jsx)(W.a,{color:"primary",mb:1,sx:{borderBottom:"1px dashed #1976d2"},children:"\u304a\u554f\u3044\u5408\u308f\u305b\u60c5\u5831"}),Object(f.jsxs)(I.a,{m:2,children:[Object(f.jsxs)(R.a,{mb:1,container:!0,children:[Object(f.jsx)(R.a,{item:!0,xs:3,children:Object(f.jsx)(W.a,{color:"GrayText",children:"\u4ef6\u540d"})}),Object(f.jsx)(R.a,{item:!0,xs:9,children:Object(f.jsx)(W.a,{color:"GrayText",children:u})})]}),Object(f.jsxs)(R.a,{mb:1,container:!0,children:[Object(f.jsx)(R.a,{item:!0,xs:3,children:Object(f.jsx)(W.a,{color:"GrayText",children:"\u304a\u554f\u3044\u5408\u308f\u305b\u8a73\u7d30"})}),Object(f.jsx)(R.a,{item:!0,xs:9,children:Object(f.jsx)(W.a,{color:"GrayText",children:b})})]}),Object(f.jsxs)(R.a,{mb:1,container:!0,children:[Object(f.jsx)(R.a,{item:!0,xs:3,children:Object(f.jsx)(W.a,{color:"GrayText",children:"\u88fd\u54c1\u7a2e\u5225"})}),Object(f.jsx)(R.a,{item:!0,xs:9,children:Object(f.jsx)(W.a,{color:"GrayText",children:d})})]}),Object(f.jsxs)(R.a,{mb:1,container:!0,children:[Object(f.jsx)(R.a,{item:!0,xs:3,children:Object(f.jsx)(W.a,{color:"GrayText",children:"\u304a\u554f\u3044\u5408\u308f\u305b\u53d7\u4fe1\u65e5\u6642"})}),Object(f.jsx)(R.a,{item:!0,xs:9,children:Object(f.jsx)(W.a,{color:"GrayText",children:O.toDate().toLocaleString()})})]}),Object(f.jsxs)(R.a,{mb:1,container:!0,children:[Object(f.jsx)(R.a,{item:!0,xs:3,children:Object(f.jsx)(W.a,{color:"GrayText",children:"\u5bfe\u5fdc\u72b6\u6cc1"})}),Object(f.jsx)(R.a,{item:!0,xs:9,children:Object(f.jsx)(W.a,{color:"GrayText",children:m})})]}),Object(f.jsxs)(R.a,{mb:1,container:!0,children:[Object(f.jsx)(R.a,{item:!0,xs:3,children:Object(f.jsx)(W.a,{color:"GrayText",children:"\u5bfe\u5fdc\u30b9\u30bf\u30c3\u30d5"})}),Object(f.jsx)(R.a,{item:!0,xs:9,children:Object(f.jsx)(W.a,{color:"GrayText",children:p})})]})]})]}),Object(f.jsxs)(I.a,{ml:2,children:[Object(f.jsx)(W.a,{color:"primary",mb:1,sx:{borderBottom:"1px dashed #1976d2"},children:"\u304a\u5ba2\u69d8\u60c5\u5831"}),Object(f.jsxs)(I.a,{ml:2,children:[Object(f.jsxs)(R.a,{mb:1,container:!0,children:[Object(f.jsx)(R.a,{item:!0,xs:3,children:Object(f.jsx)(W.a,{color:"GrayText",children:"\u304a\u5ba2\u69d8\u6c0f\u540d"})}),Object(f.jsx)(R.a,{item:!0,xs:9,children:Object(f.jsx)(W.a,{color:"GrayText",children:s})})]}),Object(f.jsxs)(R.a,{mb:1,container:!0,children:[Object(f.jsx)(R.a,{item:!0,xs:3,children:Object(f.jsx)(W.a,{color:"GrayText",children:"\u304a\u5ba2\u69d8ID"})}),Object(f.jsx)(R.a,{item:!0,xs:9,children:Object(f.jsx)(W.a,{color:"GrayText",children:x})})]}),Object(f.jsxs)(R.a,{mb:1,container:!0,children:[Object(f.jsx)(R.a,{item:!0,xs:3,children:Object(f.jsx)(W.a,{color:"GrayText",children:"\u96fb\u8a71\u756a\u53f7"})}),Object(f.jsx)(R.a,{item:!0,xs:9,children:Object(f.jsx)(W.a,{color:"GrayText",children:o})})]}),Object(f.jsxs)(R.a,{mb:1,container:!0,children:[Object(f.jsx)(R.a,{item:!0,xs:3,children:Object(f.jsx)(W.a,{color:"GrayText",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"})}),Object(f.jsx)(R.a,{item:!0,xs:9,children:Object(f.jsx)(W.a,{color:"GrayText",children:j})})]})]})]})]}),Object(f.jsx)(I.a,{sx:{mt:3,mb:1},textAlign:"center",children:Object(f.jsx)(k.a,Object(M.a)(Object(M.a)({variant:"contained",size:"large"},"\u672a\u5bfe\u5fdc"===m?{disabled:!0}:{disabled:!1}),{},{onClick:function(){return e=h,void i.push({pathname:"/inquery/".concat(e),state:e});var e},children:"\u30c1\u30e3\u30c3\u30c8\u30da\u30fc\u30b8\u306b\u79fb\u52d5"}))})]})})})]})},de=Object(a.memo)((function(e){var t=e.inqueries,n=e.setInqueries,c=e.setUnmounted,r=Object(a.useState)([]),i=Object(l.a)(r,2),s=i[0],u=i[1],b=Object(a.useContext)(p).currentUser,x=function(){var e=Object(o.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(d.d)(m,"inquery",t),"\u672a\u5bfe\u5fdc"!==n){e.next=6;break}return e.next=4,Object(d.n)(a,{response:n,staff:"\u672a\u5b9a"});case 4:e.next=8;break;case 6:return e.next=8,Object(d.n)(a,{response:n,staff:null===b||void 0===b?void 0:b.displayName});case 8:c(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){Object(o.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=Object(d.k)(Object(d.b)(m,"users"),Object(d.o)("admin","==",!0)),e.next=4,Object(d.f)(n);case 4:e.sent.forEach((function(e){t.push(e.data().name)})),u(t);case 7:case"end":return e.stop()}}),e)})))()}),[t]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(V.a,{component:H.a,sx:{mb:2},children:Object(f.jsxs)(K.a,{children:[Object(f.jsx)(J.a,{children:Object(f.jsxs)(Z.a,{children:[Object(f.jsx)(Q.a,{children:"\u4ef6\u540d"}),Object(f.jsx)(Q.a,{children:"\u6c0f\u540d"}),Object(f.jsx)(Q.a,{children:"\u88fd\u54c1\u7a2e\u5225"}),Object(f.jsx)(Q.a,{children:"\u304a\u554f\u3044\u5408\u308f\u305b\u5185\u5bb9"}),Object(f.jsx)(Q.a,{children:"\u65e5\u6642"}),Object(f.jsxs)(Q.a,{children:[Object(f.jsx)(W.a,{component:"span",children:"\u62c5\u5f53"}),Object(f.jsx)(re,{setInqueries:n,staff:s,response:[]})]}),Object(f.jsxs)(Q.a,{children:[Object(f.jsx)(W.a,{component:"span",children:"\u5bfe\u5fdc\u72b6\u6cc1"}),Object(f.jsx)(re,{setInqueries:n,staff:[],response:["\u672a\u5bfe\u5fdc","\u5bfe\u5fdc\u4e2d","\u5b8c\u4e86"]})]}),Object(f.jsx)(Q.a,{children:"\u8a73\u7d30"})]})}),Object(f.jsx)(Y.a,{children:void 0!==t&&Object(f.jsx)(f.Fragment,{children:t.map((function(e,t){return Object(f.jsxs)(Z.a,{children:[Object(f.jsx)(Q.a,{size:"small",sx:{maxWidth:"150px"},children:e.title}),Object(f.jsx)(Q.a,{size:"small",children:e.name}),Object(f.jsx)(Q.a,{size:"small",children:e.products}),Object(f.jsx)(Q.a,{size:"small",children:Object(f.jsx)(W.a,{fontSize:"small",sx:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis"},children:(n=e.inquery,n.length>100?n.substr(0,100)+"...":n)})}),Object(f.jsx)(Q.a,{size:"small",children:e.timestamp.toDate().toLocaleDateString()}),Object(f.jsx)(Q.a,{size:"small",children:e.staff}),Object(f.jsx)(Q.a,{size:"small",children:Object(f.jsxs)($.a,{color:"primary",value:e.response,exclusive:!0,size:"small",children:[Object(f.jsx)(_.a,Object(M.a)(Object(M.a)(Object(M.a)({value:"\u672a\u5bfe\u5fdc",onClick:function(){return x(e.inqueryId,"\u672a\u5bfe\u5fdc")}},e.staff!==(null===b||void 0===b?void 0:b.displayName)&&{disabled:!0}),"\u672a\u5bfe\u5fdc"===e.response&&{disabled:!1}),{},{children:"\u672a\u5bfe\u5fdc"})),Object(f.jsx)(_.a,Object(M.a)(Object(M.a)(Object(M.a)({value:"\u5bfe\u5fdc\u4e2d",onClick:function(){return x(e.inqueryId,"\u5bfe\u5fdc\u4e2d")}},e.staff!==(null===b||void 0===b?void 0:b.displayName)&&{disabled:!0}),"\u672a\u5bfe\u5fdc"===e.response&&{disabled:!1}),{},{children:"\u5bfe\u5fdc\u4e2d"})),Object(f.jsx)(_.a,Object(M.a)(Object(M.a)(Object(M.a)({value:"\u5b8c\u4e86",onClick:function(){return x(e.inqueryId,"\u5b8c\u4e86")}},e.staff!==(null===b||void 0===b?void 0:b.displayName)&&{disabled:!0}),"\u672a\u5bfe\u5fdc"===e.response&&{disabled:!1}),{},{children:"\u5b8c\u4e86"}))]})}),Object(f.jsx)(Q.a,{size:"small",sx:{maxWidth:"100px"},children:Object(f.jsx)(le,{name:e.name,email:e.email,tel:e.tel,products:e.products,title:e.title,inquery:e.inquery,uid:e.uid,timestamp:e.timestamp,month:e.month,response:e.response,inqueryId:e.inqueryId,staff:e.staff})})]},t);var n}))})})]})}),Object(f.jsx)(f.Fragment,{children:void 0!==t&&0===t.length&&Object(f.jsx)(W.a,{textAlign:"center",mt:2,children:"\u8868\u793a\u3067\u304d\u308b\u304a\u554f\u3044\u5408\u308f\u305b\u304c\u3042\u308a\u307e\u305b\u3093\u3002"})})]})})),ue=n(265),be=n(266),xe=n(262),Oe=n(263),me=n(264),he=function(e){var t=e.open,n=e.setOpen,a=e.title,c=e.func;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(xe.a,{open:t,children:[Object(f.jsx)(Oe.a,{style:{cursor:"move"},children:a}),Object(f.jsxs)(me.a,{children:[Object(f.jsx)(k.a,{onClick:function(){n(!1)},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),Object(f.jsx)(k.a,{onClick:c,children:"OK"})]})]})})},fe=function(){var e=Object(w.f)(),t=Object(a.useContext)(y).isAdmin,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],i=c[1];return Object(f.jsx)(I.a,{sx:{flexGrow:1,mb:"64px"},children:Object(f.jsx)(ue.a,{position:"fixed",children:Object(f.jsxs)(be.a,{children:[Object(f.jsxs)(W.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:["Osiris",t&&Object(f.jsx)(W.a,{variant:"subtitle2",component:"span",children:"\u3000-\u7ba1\u7406\u8005\u30da\u30fc\u30b8-"})]}),Object(f.jsx)(k.a,{color:"inherit",onClick:function(){i(!0)},children:"\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8"}),Object(f.jsx)(he,{open:r,setOpen:i,title:"\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3057\u3066\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",func:function(){Object(A.d)(h).then((function(){e.push("/")})).catch((function(e){var t=e.code,n=e.message;alert("".concat(t,":").concat(n))}))}})]})})})},pe=n(267),ve=n(268),ye=Object(a.memo)((function(e){var t=e.response,n=Object(a.useState)(0),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(0),j=Object(l.a)(s,2),o=j[0],d=j[1],u=Object(a.useState)(0),b=Object(l.a)(u,2),x=b[0],O=b[1];return Object(a.useEffect)((function(){void 0!==t&&(i(t.filter((function(e){return"\u672a\u5bfe\u5fdc"===e})).length),d(t.filter((function(e){return"\u5bfe\u5fdc\u4e2d"===e})).length),O(t.filter((function(e){return"\u5b8c\u4e86"===e})).length))}),[t]),Object(f.jsxs)(I.a,{display:"flex",justifyContent:"left",mt:2,mb:2,children:[Object(f.jsx)(pe.a,{sx:{minWidth:130,mr:1},children:Object(f.jsxs)(ve.a,{sx:{display:"flex",alignItems:"center"},children:[Object(f.jsx)(W.a,{fontSize:15,color:"GrayText",sx:{mr:4,pb:0},children:"\u672a\u5bfe\u5fdc"}),Object(f.jsx)(W.a,{fontSize:25,textAlign:"center",color:"GrayText",children:void 0===r?0:r})]})}),Object(f.jsx)(pe.a,{sx:{minWidth:130,mr:1},children:Object(f.jsxs)(ve.a,{sx:{display:"flex",alignItems:"center"},children:[Object(f.jsx)(W.a,{color:"GrayText",fontSize:15,sx:{mr:4,pb:0},children:"\u5bfe\u5fdc\u4e2d"}),Object(f.jsx)(W.a,{fontSize:25,textAlign:"center",color:"GrayText",children:void 0===o?0:o})]})}),Object(f.jsx)(pe.a,{sx:{minWidth:130},children:Object(f.jsxs)(ve.a,{sx:{display:"flex",alignItems:"center"},children:[Object(f.jsx)(W.a,{color:"GrayText",fontSize:15,sx:{mr:4,pb:0},children:"\u5b8c\u4e86"}),Object(f.jsx)(W.a,{fontSize:23,textAlign:"center",color:"GrayText",children:void 0===x?0:x})]})})]})})),ge=n(237),Se=n(232),we=n(102),Ce=n.n(we),ke=Object(a.memo)((function(e){var t=e.setLoading,n=Object(a.useState)([]),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(""),d=Object(l.a)(s,2),u=d[0],x=d[1],O=Object(a.useState)(""),h=Object(l.a)(O,2),v=h[0],y=h[1],g=Object(a.useState)(""),S=Object(l.a)(g,2),w=S[0],C=S[1],q=Object(a.useState)(""),z=Object(l.a)(q,2),I=z[0],G=z[1],E=Object(a.useState)(""),N=Object(l.a)(E,2),U=N[0],A=N[1],D=Object(a.useState)(""),L=Object(l.a)(D,2),P=L[0],X=L[1],M=Object(a.useState)(""),V=Object(l.a)(M,2),H=V[0],K=V[1],J=Object(a.useState)(!1),Z=Object(l.a)(J,2),Q=Z[0],Y=Z[1],$=Object(a.useState)(!1),_=Object(l.a)($,2),ee=_[0],ne=_[1],ae=Object(a.useContext)(p).currentUser,ce=Object(ie.a)(oe.a)({display:"block",marginRight:0,marginLeft:"auto"}),re=function(){var e=Object(o.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),n.preventDefault(),e.next=4,Object(b.a)(Object(b.b)(m,"inquery"),{name:v,email:w,tel:U,products:u,title:P,inquery:H,uid:I,timestamp:Object(b.g)(),month:(new Date).getMonth()+1,response:"\u672a\u5bfe\u5fdc",staff:"\u672a\u5b9a"});case 4:Y(!1),t(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t(!0),null!==ae&&void 0!==ae&&(y(ae.displayName),C(ae.email),G(ae.uid))}),[ae,t]),Object(a.useEffect)((function(){return Object(o.a)(j.a.mark((function e(){var t,n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.b)(m,"products"),n=Object(b.f)(t,Object(b.e)("name")),e.next=4,Object(b.c)(n);case 4:a=e.sent,c=[],a.forEach((function(e){c.push(e.data().name)})),i(c);case 8:case"end":return e.stop()}}),e)})))(),function(){ne(!0)}}),[ae,ee]),Object(a.useEffect)((function(){void 0!==r&&t(!1)}),[r,t]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(k.a,{variant:"contained",size:"large",sx:{margin:3},endIcon:Object(f.jsx)(Ce.a,{}),onClick:function(){Y(!Q)},children:"\u304a\u554f\u3044\u5408\u308f\u305b\u3092\u8ffd\u52a0\u3059\u308b"}),Object(f.jsx)(se.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:Q,children:Object(f.jsx)(F.a,{maxWidth:"md",children:Object(f.jsxs)(B.a,{component:"form",onSubmit:re,sx:{bgcolor:"white",zIndex:100,padding:2},children:[Object(f.jsxs)(R.a,{container:!0,justifyContent:"end",children:[Object(f.jsx)(R.a,{item:!0,xs:11,children:Object(f.jsx)(W.a,{color:"gray",children:"\u304a\u554f\u3044\u5408\u308f\u305b\u30d5\u30a9\u30fc\u30e0"})}),Object(f.jsx)(R.a,{item:!0,xs:1,children:Object(f.jsx)(ce,{color:"action",onClick:function(){Y(!1)}})})]}),Object(f.jsx)(T.a,{label:"\u6c0f\u540d",type:"text",inputProps:{maxLength:16},variant:"outlined",value:v,size:"small",required:!0,fullWidth:!0,margin:"normal"}),Object(f.jsx)(T.a,{label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",type:"email",inputProps:{maxLength:200},variant:"outlined",value:w,size:"small",required:!0,fullWidth:!0,margin:"normal"}),Object(f.jsx)(T.a,{label:"\u96fb\u8a71\u756a\u53f7",type:"tel",size:"small",variant:"outlined",inputProps:{maxLength:13,pattern:"[0-9]{3}-[0-9]{4}-[0-9]{4}"},helperText:"\u30cf\u30a4\u30d5\u30f3\u3092\u5165\u308c\u3066\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",required:!0,fullWidth:!0,margin:"normal",onChange:function(e){return A(e.target.value)}}),Object(f.jsx)(ge.a,{id:"select",sx:{mt:1},children:"\u88fd\u54c1\u7a2e\u5225"}),Object(f.jsxs)(Se.a,{labelId:"select",value:u,onChange:function(e){x(e.target.value)},size:"small",fullWidth:!0,required:!0,sx:{mb:1},children:[Object(f.jsx)(te.a,{disabled:!0,value:"\u88fd\u54c1\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",children:"\u88fd\u54c1\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}),null===r||void 0===r?void 0:r.map((function(e,t){return Object(f.jsx)(te.a,{value:e,children:e},t)}))]}),Object(f.jsx)(T.a,{label:"\u4ef6\u540d",type:"text",inputProps:{maxLength:100},variant:"outlined",size:"small",fullWidth:!0,required:!0,margin:"normal",onChange:function(e){return X(e.target.value)}}),Object(f.jsx)(T.a,{label:"\u304a\u554f\u3044\u5408\u308f\u305b\u5185\u5bb9",type:"text",inputProps:{maxLength:2e3},variant:"outlined",multiline:!0,minRows:3,fullWidth:!0,required:!0,margin:"dense",onChange:function(e){return K(e.target.value)}}),Object(f.jsx)(B.a,{sx:{mt:2,mb:1},children:Object(f.jsx)(k.a,{variant:"contained",type:"submit",fullWidth:!0,children:"\u9001\u4fe1\u3059\u308b"})})]})})})]})})),qe=n(269),Te=function(){return Object(f.jsx)(I.a,{sx:{display:"flex",justifyContent:"center"},children:Object(f.jsx)(qe.a,{})})},ze=n(125),Ie=n.n(ze),Ge=Object(a.memo)((function(){var e=Object(a.useContext)(p).currentUser,t=Object(a.useState)(),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!0),s=Object(l.a)(i,2),u=s[0],b=s[1],x=Object(w.f)(),O=function(e){x.push({pathname:"/inquery/".concat(e),state:e})};return Object(a.useEffect)((function(){Object(o.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b(!0),n=[],null!==e&&void 0!==e&&(a=Object(d.k)(Object(d.b)(m,"inquery"),Object(d.o)("uid","==",e.uid)),Object(d.i)(a,(function(e){e.forEach((function(e){n.push({name:e.data().name,email:e.data().email,tel:e.data().tel,products:e.data().products,title:e.data().title,inquery:e.data().inquery,uid:e.data().uid,timestamp:e.data().timestamp,month:e.data().month,response:e.data().response,inqueryId:e.id,staff:e.data().staff})})),r(n)})),b(!1));case 3:case"end":return t.stop()}}),t)})))()}),[]),Object(f.jsx)(F.a,{children:u?Object(f.jsx)(Te,{}):Object(f.jsx)(f.Fragment,{children:void 0===c?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(W.a,{children:"\u8868\u793a\u53ef\u80fd\u306a\u304a\u554f\u3044\u5408\u308f\u305b\u306f\u3042\u308a\u307e\u305b\u3093"})}):Object(f.jsx)(f.Fragment,{children:null===c||void 0===c?void 0:c.map((function(e,t){return Object(f.jsx)(pe.a,{sx:{minWidth:275,mb:2},children:Object(f.jsxs)(ve.a,{children:[Object(f.jsx)(W.a,{color:"GrayText",fontSize:"14px",children:"\u4ef6\u540d\uff1a"}),Object(f.jsx)(W.a,{sx:{mb:1},children:e.title}),Object(f.jsx)(W.a,{color:"GrayText",fontSize:"14px",children:"\u304a\u554f\u3044\u5408\u308f\u305b\u5185\u5bb9\uff1a"}),Object(f.jsx)(W.a,{children:e.inquery}),Object(f.jsxs)(W.a,{color:"GrayText",fontSize:"14px",sx:{mt:2},children:["\u62c5\u5f53:",e.staff]}),"\u672a\u5bfe\u5fdc"===e.response?Object(f.jsx)(k.a,{variant:"outlined",fullWidth:!0,sx:{mt:2},endIcon:Object(f.jsx)(Ie.a,{}),onClick:function(){return O(e.inqueryId)},disabled:!0,children:"\u62c5\u5f53\u8005\u306e\u8fd4\u4fe1\u3092\u304a\u5f85\u3061\u304f\u3060\u3055\u3044"}):Object(f.jsx)(k.a,{variant:"outlined",fullWidth:!0,sx:{mt:2},endIcon:Object(f.jsx)(Ie.a,{}),onClick:function(){return O(e.inqueryId)},children:"\u8fd4\u4fe1\u3092\u898b\u308b"})]})},t)}))})})})})),Ee=n(238),We=n(135),Fe=n.n(We),Ne=function(e){var t=e.time,n=e.setInqueries,c=Object(a.useState)(),r=Object(l.a)(c,2),i=r[0],s=r[1],u=function(){var e=Object(o.a)(j.a.mark((function e(){var t,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=[],c=Object(d.k)(Object(b.b)(m,"inquery"),Object(d.o)("response","==","\u672a\u5bfe\u5fdc")),e.next=5,Object(b.c)(c);case 5:e.sent.forEach((function(e){t.push({name:e.data().name,email:e.data().email,tel:e.data().tel,products:e.data().products,title:e.data().title,inquery:e.data().inquery,uid:e.data().uid,timestamp:e.data().timestamp,month:e.data().month,response:e.data().response,inqueryId:e.id,staff:e.data().staff}),a.push(e.data().response)})),n(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){Object(o.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=Object(d.k)(Object(b.b)(m,"inquery"),Object(d.o)("response","==","\u672a\u5bfe\u5fdc")),Object(d.i)(a,(function(e){e.forEach((function(e){void 0!==t&&e.data().timestamp.seconds>t.seconds&&n.push(e.data().response)})),s(n.length)}));case 3:case"end":return e.stop()}}),e)})))()}),[t]),Object(f.jsxs)(k.a,Object(M.a)(Object(M.a)({variant:"outlined",size:"medium",sx:{ml:2,mr:2,height:"60px"},onClick:u},0===i&&{disabled:!0}),{},{children:[0===i?Object(f.jsx)(W.a,{children:"\u65b0\u7740\u306e\u304a\u554f\u3044\u5408\u308f\u305b\u306f\u3042\u308a\u307e\u305b\u3093"}):Object(f.jsx)(W.a,{children:"\u65b0\u7740\u306e\u304a\u554f\u3044\u5408\u308f\u305b\u3092\u53d6\u5f97\u3059\u308b"}),Object(f.jsx)(Ee.a,{badgeContent:i,color:"primary",children:Object(f.jsx)(Fe.a,{})})]}))},Ue=n(136),Ae=n.n(Ue),De=function(){return Object(f.jsx)(S.b,{to:"/admin/WnXXiSFjlSgexnUOrXinoa3Cr052/config",children:Object(f.jsx)(ne.a,{size:"large",sx:{m:"0 0 0 auto"},children:Object(f.jsx)(Ae.a,{})})})},Le=Object(a.memo)((function(){var e=Object(a.useContext)(y).isAdmin,t=Object(a.useContext)(p).currentUser,n=Object(a.useState)(!0),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(),u=Object(l.a)(s,2),x=u[0],O=u[1],h=Object(a.useState)(!1),v=Object(l.a)(h,2),g=v[0],S=v[1],w=Object(a.useState)(),C=Object(l.a)(w,2),k=C[0],q=C[1],T=Object(a.useState)(),z=Object(l.a)(T,2),I=z[0],G=z[1];return Object(a.useEffect)((function(){void 0!==e&&i(!1)}),[e]),Object(a.useEffect)((function(){return!1===g&&Object(o.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=Object(b.f)(Object(d.b)(m,"inquery"),Object(b.h)("response","==","\u672a\u5bfe\u5fdc"),Object(d.h)(20)),e.next=4,Object(d.f)(n);case 4:e.sent.forEach((function(e){t.push({name:e.data().name,email:e.data().email,tel:e.data().tel,products:e.data().products,title:e.data().title,inquery:e.data().inquery,uid:e.data().uid,timestamp:e.data().timestamp,month:e.data().month,response:e.data().response,inqueryId:e.id,staff:e.data().staff})})),O(t);case 7:case"end":return e.stop()}}),e)})))(),function(){S(!0)}}),[x,g]),Object(a.useEffect)((function(){return!1===g&&Object(o.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],a=Object(b.f)(Object(d.b)(m,"inquery"),Object(d.j)("timestamp","asc")),e.next=5,Object(d.f)(a);case 5:e.sent.forEach((function(e){t.push(e.data().response),n.push(e.data().timestamp)})),G(n[n.length-1]),q(t);case 9:case"end":return e.stop()}}),e)})))(),function(){S(!0)}}),[g]),Object(f.jsx)(f.Fragment,{children:r?Object(f.jsx)(B.a,{mt:5,children:Object(f.jsx)(Te,{})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(fe,{}),Object(f.jsx)(F.a,{maxWidth:"xl",sx:{pt:2},children:Object(f.jsxs)(W.a,{fontSize:"18px",children:["\u3088\u3046\u3053\u305d\u3001",null===t||void 0===t?void 0:t.displayName,"\u3055\u3093"]})}),e?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(F.a,{maxWidth:"xl",children:[Object(f.jsxs)(B.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(f.jsx)(ye,{response:k}),Object(f.jsxs)(B.a,{children:[Object(f.jsx)(Ne,{time:I,setInqueries:O}),"WnXXiSFjlSgexnUOrXinoa3Cr052"===(null===t||void 0===t?void 0:t.uid)&&Object(f.jsx)(De,{})]})]}),Object(f.jsx)(de,{inqueries:x,setInqueries:O,setUnmounted:S})]})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ke,{setLoading:i}),Object(f.jsx)(Ge,{})]})]})})})),Re=n(235),Pe=n(270),Xe=n(271),Be=n(228),Me=n(137),Ve=n.n(Me),He=Object(Be.a)(Re.a)({"&.Mui-expanded":{margin:0}}),Ke=function(e){var t=e.name,n=e.products,a=e.title,c=e.detail,r=e.timestamp,i=r.toDate().toLocaleDateString(),s=r.toDate().toLocaleTimeString();return Object(f.jsxs)(He,{sx:{width:"100%",backgroundColor:"rgba(180,180,180,0.1)"},children:[Object(f.jsx)(Pe.a,{expandIcon:Object(f.jsx)(Ve.a,{color:"primary"}),children:Object(f.jsxs)(B.a,{display:"flex",flexDirection:"column",children:[Object(f.jsxs)(W.a,{color:"GrayText",children:[t,"\u69d8\u306e\u304a\u554f\u3044\u5408\u308f\u305b\u4ef6\u540d\uff1a"]}),Object(f.jsx)(W.a,{color:"GrayText",children:a})]})}),Object(f.jsxs)(Xe.a,{children:[Object(f.jsxs)(R.a,{container:!0,children:[Object(f.jsx)(R.a,{item:!0,color:"GrayText",children:Object(f.jsx)(W.a,{children:"\u65e5\u6642\uff1a"})}),Object(f.jsx)(R.a,{item:!0,color:"GrayText",children:Object(f.jsxs)(W.a,{children:[i,"\u3000",s]})})]}),Object(f.jsxs)(R.a,{container:!0,children:[Object(f.jsx)(R.a,{item:!0,color:"GrayText",children:Object(f.jsx)(W.a,{children:"\u88fd\u54c1\u756a\u53f7\uff1a"})}),Object(f.jsx)(R.a,{item:!0,color:"GrayText",children:Object(f.jsx)(W.a,{children:n})})]}),Object(f.jsxs)(R.a,{container:!0,children:[Object(f.jsx)(R.a,{item:!0,color:"GrayText",children:Object(f.jsx)(W.a,{children:"\u8a73\u7d30\uff1a"})}),Object(f.jsx)(R.a,{item:!0,color:"GrayText",children:Object(f.jsx)(W.a,{children:c})})]})]})]})},Je=n(138),Ze=n.n(Je),Qe=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],i=e.id,s=e.staff,u=Object(a.useContext)(p).currentUser,b=Object(a.useContext)(y).isAdmin,x=function(){var e=Object(o.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=""!==c,!e.t0){e.next=4;break}return e.next=4,Object(d.a)(Object(d.b)(m,"inquery",i,"chat"),{message:c,name:null===u||void 0===u?void 0:u.displayName,timestamp:Object(d.l)()});case 4:r("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(B.a,{display:"flex",justifyContent:"center",sx:{position:"fixed",bottom:0,padding:2,boxShadow:"0 -5px 10px rgba(150,150,150,0.1)",backgroundColor:"white",width:"100%"},children:[Object(f.jsx)(B.a,{sx:{width:"80%",mr:2},children:Object(f.jsx)(T.a,Object(M.a)(Object(M.a)(Object(M.a)({fullWidth:!0,variant:"outlined",multiline:!0,value:c,size:"small",type:"text"},s!==(null===u||void 0===u?void 0:u.displayName)&&{disabled:!0}),!b&&{disabled:!1}),{},{onChange:function(e){return e.target.value.length<=4e3&&r(e.target.value)}}))}),Object(f.jsxs)(B.a,{sx:{mr:2},display:"flex",children:[Object(f.jsx)(ne.a,Object(M.a)(Object(M.a)(Object(M.a)({size:"large",color:"primary"},s!==(null===u||void 0===u?void 0:u.displayName)&&{disabled:!0}),!b&&{disabled:!1}),{},{onClick:x,children:Object(f.jsx)(Ze.a,{})})),Object(f.jsx)(ne.a,Object(M.a)(Object(M.a)(Object(M.a)({size:"large",color:"primary"},s!==(null===u||void 0===u?void 0:u.displayName)&&{disabled:!0}),!b&&{disabled:!1}),{},{onClick:x,children:Object(f.jsx)(Ce.a,{})}))]})]})},Ye=function(){var e=Object(a.useContext)(y).isAdmin;return console.log(e),Object(f.jsxs)(B.a,{textAlign:"right",children:[Object(f.jsx)(k.a,{children:"\u89e3\u6c7a\u3057\u3066\u3044\u307e\u305b\u3093"}),Object(f.jsx)(k.a,{children:"\u89e3\u6c7a\u3057\u307e\u3057\u305f"})]})},$e=Object(a.memo)((function(e){var t=e.id,n=Object(a.useState)(),c=Object(l.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(!1),u=Object(l.a)(s,2),b=u[0],x=u[1];return Object(a.useEffect)((function(){Object(o.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(d.b)(m,"inquery",t,"chat"),a=Object(d.k)(n,Object(d.j)("timestamp","asc")),Object(d.i)(a,(function(e){var t=[];e.forEach((function(e){t.push({message:e.data().message,name:e.data().name,timestamp:e.data({serverTimestamps:"estimate"}).timestamp})})),i(t)}));case 3:case"end":return e.stop()}}),e)})))()}),[t]),Object(a.useEffect)((function(){x(!0),void 0!==r&&x(!1)}),[r]),Object(f.jsx)(F.a,{sx:{mt:2,mb:11},children:b?Object(f.jsx)(Te,{}):Object(f.jsx)(f.Fragment,{children:void 0!==r&&r.map((function(e,t){return Object(f.jsxs)(B.a,{sx:{mb:2},children:[Object(f.jsx)(B.a,{children:Object(f.jsx)(W.a,{component:"span",color:"GrayText",sx:{mr:1},children:e.name})}),Object(f.jsxs)(B.a,{sx:{width:"100%"},mt:1,children:[Object(f.jsx)(pe.a,{children:Object(f.jsx)(ve.a,{children:Object(f.jsx)(W.a,{sx:{whiteSpace:"pre"},children:e.message})})}),Object(f.jsx)(B.a,{color:"GrayText",sx:{textAlign:"right"},children:Object(f.jsx)(W.a,{component:"span",sx:{mr:2},children:String(e.timestamp.toDate().toLocaleDateString())})})]}),Object(f.jsx)(Ye,{})]},t)}))})})})),_e=function(){var e=Object(a.useContext)(p).currentUser,t=Object(w.g)(),n=String(t.state),c=Object(a.useState)(),r=Object(l.a)(c,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){Object(o.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.d)(m,"inquery",n),e.next=3,Object(d.e)(t);case 3:(a=e.sent).exists()&&s({name:a.data().name,products:a.data().products,title:a.data().title,detail:a.data().inquery,timestamp:a.data().timestamp,response:a.data().response,staff:a.data().staff});case 5:case"end":return e.stop()}}),e)})))()}),[e,n]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(fe,{}),void 0!==i&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ke,{name:i.name,products:i.products,title:i.title,detail:i.detail,timestamp:i.timestamp}),Object(f.jsx)($e,{id:n}),Object(f.jsx)(Qe,{id:n,name:null===i||void 0===i?void 0:i.name,staff:null===i||void 0===i?void 0:i.staff})]})]})},et=n(253),tt=n(272),nt=n(239),at=n(225),ct=n(229),rt=function(e){var t=e.users,n=e.listName,a=e.fetchUsers,c=e.setUsers,r=e.setNotification,i=function(){var e=Object(o.a)(j.a.mark((function e(t,n){var i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(d.d)(m,"users",t),e.next=3,Object(d.n)(i,{admin:!n});case 3:a(),c(void 0),r(!0);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(f.jsxs)(et.a,{sx:{border:"1px solid #1976d2"},children:[Object(f.jsx)(tt.a,{children:n}),Object(f.jsx)(f.Fragment,{children:void 0!==t&&t.map((function(e,t){return Object(f.jsx)(nt.a,{children:Object(f.jsxs)(ct.a,{sx:{borderBottom:"1px solid #1976d2"},onClick:function(){return i(e.uid,e.admin)},children:[Object(f.jsx)(W.a,{color:"GrayText",fontSize:"16px",sx:{mr:2},children:e.name}),Object(f.jsxs)(W.a,{color:"GrayText",fontSize:"12px",children:["\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff1a",e.email]})]})},t)}))})]})},it=function(e){var t=e.open,n=e.setOpen,c=e.func,r=e.title,i=e.list,s=Object(a.useRef)(null),u=Object(a.useState)(),b=Object(l.a)(u,2),x=b[0],O=b[1],h=Object(a.useState)(!1),p=Object(l.a)(h,2),v=p[0],y=p[1],g=Object(Be.a)(oe.a)({display:"block",marginRight:0,marginLeft:"auto"}),S=function(){var e=Object(o.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===s.current||""===s.current.value){e.next=9;break}return t=[],n=Object(d.k)(Object(d.b)(m,"users"),Object(d.o)("name","==",s.current.value)),e.next=5,Object(d.f)(n);case 5:e.sent.forEach((function(e){t.push({name:e.data().name,email:e.data().email,uid:e.data().uid,admin:e.data().admin})})),s.current.value="",O(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===s.current||""===s.current.value||void 0===i){e.next=15;break}if(t=[],n=Object(d.d)(Object(d.b)(m,"products")),i.forEach((function(e){var n;t.push(e.name===(null===(n=s.current)||void 0===n?void 0:n.value))})),!t.includes(!0)){e.next=12;break}return a=Object(d.k)(Object(d.b)(m,"products"),Object(d.o)("name","==",s.current.value)),e.next=8,Object(d.f)(a);case 8:e.sent.forEach((function(e){return Object(d.c)(Object(d.d)(m,"products",e.data().id))})),e.next=14;break;case 12:return e.next=14,Object(d.m)(Object(d.d)(m,"products",n.id),{id:n.id,name:s.current.value});case 14:c();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){setTimeout((function(){y(!1)}),1e3)}),[v]),Object(f.jsx)(se.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:t,children:Object(f.jsxs)(B.a,{sx:{backgroundColor:"#ffffff"},p:4,width:"80%",children:[Object(f.jsxs)(B.a,{display:"flex",justifyContent:"space-between",children:[Object(f.jsxs)(W.a,{color:"GrayText",children:[r,"\u540d\u3092\u5165\u529b"]}),Object(f.jsx)(ne.a,{onClick:function(){n(!1)},children:Object(f.jsx)(g,{color:"action"})})]}),Object(f.jsx)(W.a,{color:"GrayText",fontSize:"14px",children:"\u30b9\u30bf\u30c3\u30d5"===r?"\u5165\u529b\u6b04\u306b".concat(r,"\u540d\u3092\u5165\u529b\u5f8c\u3001").concat(r,"\u30ea\u30b9\u30c8\u306b\u8868\u793a\u3055\u308c\u305f\u540d\u524d\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u8ffd\u52a0\u3068\u524a\u9664\u304c\u884c\u3048\u307e\u3059\u3002"):"\u5165\u529b\u6b04\u306b".concat(r,"\u540d\u3092\u5165\u529b\u5f8c\u3001\u5b9f\u884c\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u8ffd\u52a0\u3068\u524a\u9664\u304c\u884c\u3048\u307e\u3059\u3002")}),Object(f.jsxs)(B.a,{display:"flex",justifyContent:"flex-end",mt:2,mb:2,children:[Object(f.jsx)(T.a,{type:"text",variant:"outlined",label:r+"\u540d",sx:{width:"50%"},inputRef:s}),Object(f.jsx)(k.a,{variant:"contained",size:"medium",sx:{ml:2,width:"10%"},onClick:"\u30b9\u30bf\u30c3\u30d5"===r?S:w,children:"\u30b9\u30bf\u30c3\u30d5"===r?"\u691c\u7d22":"\u5b9f\u884c"})]}),Object(f.jsx)(at.a,{in:v,children:Object(f.jsx)(W.a,{color:"GrayText",textAlign:"center",children:"\u6b63\u5e38\u306b\u5b9f\u884c\u3055\u308c\u307e\u3057\u305f\u3002"})}),"\u30b9\u30bf\u30c3\u30d5"===r&&Object(f.jsx)(rt,{users:x,listName:r+"\u30ea\u30b9\u30c8",fetchUsers:c,setUsers:O,setNotification:y})]})})},st=function(e){var t=e.func,n=e.list,c=e.title,r=Object(a.useState)(!1),i=Object(l.a)(r,2),s=i[0],j=i[1];return Object(f.jsxs)(I.a,{mb:3,children:[Object(f.jsxs)(I.a,{display:"flex",justifyContent:"space-between",alignItems:"center",m:2,children:[Object(f.jsxs)(W.a,{component:"h1",fontSize:"23px",color:"GrayText",children:[c,"\u7ba1\u7406"]}),Object(f.jsxs)(k.a,{variant:"contained",size:"large",onClick:function(){j(!s)},children:[c,"\u306e\u8ffd\u52a0\u3068\u524a\u9664"]}),Object(f.jsx)(it,{open:s,setOpen:j,func:t,title:c,list:n})]}),Object(f.jsxs)(et.a,{sx:{border:"1px solid #1976d2",p:2},children:[Object(f.jsxs)(tt.a,{children:[c,"\u30ea\u30b9\u30c8"]}),void 0!==n&&n.map((function(e,t){return Object(f.jsx)(nt.a,{sx:{borderBottom:"1px solid #1976d2"},children:Object(f.jsx)(W.a,{color:"black",sx:{mr:2},fontSize:"16px",children:e.name})},t)}))]})]})},jt=n(230),ot=n(273),lt=function(e){var t=e.value,n=e.setValue;return Object(f.jsx)(B.a,{height:"100%",position:"fixed",sx:{backgroundColor:"aliceblue"},children:Object(f.jsxs)(jt.a,{value:t,orientation:"vertical",onChange:function(e,t){n(t)},children:[Object(f.jsx)(ot.a,{label:"\u304a\u554f\u3044\u5408\u308f\u305b\u60c5\u5831"}),Object(f.jsx)(ot.a,{label:"\u30b9\u30bf\u30c3\u30d5\u7ba1\u7406"}),Object(f.jsx)(ot.a,{label:"\u88fd\u54c1\u7ba1\u7406"})]})})},dt=n(139),ut=n.n(dt),bt=function(){var e=(new Date).getMonth()+1,t=Object(a.useState)(),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useRef)(null),s=Object(a.useReducer)((function(e,t){var n;switch(t.type){case"PREV":return e>1?e-1:1===e?12:e;case"NEXT":return e<12?e+1:12===e?1:e;case"SEARCH":var a,c,r;return void 0!==(null===(n=i.current)||void 0===n?void 0:n.value)?Number(null===(a=i.current)||void 0===a?void 0:a.value)<=0||Number(null===(c=i.current)||void 0===c?void 0:c.value)>12?(alert("1~12\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),i.current.value="",e):Number(null===(r=i.current)||void 0===r?void 0:r.value):e;default:return e}}),e),u=Object(l.a)(s,2),b=u[0],x=u[1],O=function(){var e=Object(o.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=Object(d.k)(Object(d.b)(m,"inquery"),Object(d.o)("month","==",b)),e.next=4,Object(d.f)(n);case 4:e.sent.forEach((function(e){t.push({name:e.data().name,email:e.data().email,tel:e.data().tel,products:e.data().products,title:e.data().title,inquery:e.data().inquery,uid:e.data().uid,timestamp:e.data().timestamp,month:e.data().month,response:e.data().response,inqueryId:e.data().inqueryId,staff:e.data().staff})})),r(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){O()}),[b]),Object(f.jsxs)(B.a,{mb:3,children:[Object(f.jsxs)(B.a,{m:2,display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(f.jsxs)(W.a,{component:"h1",fontSize:"23px",color:"GrayText",children:[b,"\u6708\u306e\u304a\u554f\u3044\u5408\u308f\u305b\u60c5\u5831"]}),Object(f.jsxs)($.a,{children:[Object(f.jsx)(_.a,{value:"prev",onClick:function(){return x({type:"PREV"})},children:"\u5148\u6708"}),Object(f.jsx)(_.a,{value:"next",onClick:function(){return x({type:"NEXT"})},children:"\u7fcc\u6708"})]}),Object(f.jsxs)(B.a,{component:"form",display:"flex",alignItems:"flex-end",onSubmit:function(e){e.preventDefault(),x({type:"SEARCH"})},children:[Object(f.jsx)(T.a,{label:"\u691c\u7d22\u3057\u305f\u3044\u6708\u306e\u6570\u5b57",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]*"},variant:"standard",inputRef:i}),Object(f.jsx)(ne.a,{onClick:function(){return x({type:"SEARCH"})},children:Object(f.jsx)(ut.a,{})})]})]}),Object(f.jsx)(B.a,{children:Object(f.jsxs)(W.a,{children:[null===c||void 0===c?void 0:c.length,"\u4ef6"]})})]})},xt=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),i=Object(l.a)(r,2),s=i[0],u=i[1],b=Object(a.useState)(!0),x=Object(l.a)(b,2),O=x[0],h=x[1],p=Object(a.useState)(0),v=Object(l.a)(p,2),y=v[0],g=v[1],S=Object(a.useState)([]),w=Object(l.a)(S,2),C=w[0],k=w[1],q=function(){var e=Object(o.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],a=Object(d.b)(m,"users"),e.next=5,Object(d.f)(a);case 5:e.sent.forEach((function(e){!1===e.data().admin?t.push({name:e.data().name,email:e.data().email,admin:e.data().admin,uid:e.data().uid}):n.push({name:e.data().name,email:e.data().email,admin:e.data().admin,uid:e.data().uid})})),c(t),u(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(o.a)(j.a.mark((function e(){var t,n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.b)(m,"products"),n=Object(d.k)(t,Object(d.j)("name")),e.next=4,Object(d.f)(n);case 4:a=e.sent,c=[],a.forEach((function(e){c.push({id:e.data().id,name:e.data().name})})),k(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){q(),T()}),[]),Object(a.useEffect)((function(){void 0===n&&void 0===s||h(!1)}),[n,s]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(fe,{}),Object(f.jsxs)(R.a,{container:!0,children:[Object(f.jsx)(R.a,{item:!0,xs:2,children:Object(f.jsx)(lt,{value:y,setValue:g})}),Object(f.jsx)(R.a,{item:!0,xs:9,children:O?Object(f.jsx)(I.a,{mt:5,children:Object(f.jsx)(Te,{})}):Object(f.jsxs)(f.Fragment,{children:[0===y&&Object(f.jsx)(bt,{}),1===y&&Object(f.jsx)(st,{func:q,list:s,title:"\u30b9\u30bf\u30c3\u30d5"}),2===y&&Object(f.jsx)(st,{func:T,list:C,title:"\u88fd\u54c1"})]})})]})]})},Ot=function(){var e=Object(a.useContext)(p).currentUser,t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){Object(o.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return n=Object(b.f)(Object(b.b)(m,"inquery"),Object(b.h)("uid","==",e.uid)),t.next=4,Object(b.c)(n);case 4:t.sent.forEach((function(e){r(e.id)}));case 6:case"end":return t.stop()}}),t)})))()}),[]),Object(f.jsx)(S.a,{children:Object(f.jsxs)(w.c,{children:[Object(f.jsx)(w.a,{exact:!0,path:"/",component:L}),Object(f.jsx)(w.a,{exact:!0,path:"/signup",component:X}),Object(f.jsx)(w.a,{exact:!0,path:"/home/".concat(null===e||void 0===e?void 0:e.uid),component:Le}),Object(f.jsx)(w.a,{exact:!0,path:"/admin/".concat(null===e||void 0===e?void 0:e.uid),component:Le}),Object(f.jsx)(w.a,{path:"/inquery/".concat(c),component:_e}),Object(f.jsx)(w.a,{exact:!0,path:"/admin/WnXXiSFjlSgexnUOrXinoa3Cr052/config",component:xt})]})})};var mt=function(){return Object(f.jsx)(v,{children:Object(f.jsx)(g,{children:Object(f.jsx)(Ot,{})})})},ht=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,274)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(mt,{})}),document.getElementById("root")),ht()}},[[174,1,2]]]);
//# sourceMappingURL=main.159a2be4.chunk.js.map